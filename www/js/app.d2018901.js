(function(e){function t(t){for(var r,o,i=t[0],l=t[1],c=t[2],m=0,p=[];m<i.length;m++)o=i[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);u&&u(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,i=1;i<a.length;i++){var l=a[i];0!==s[l]&&(r=!1)}r&&(n.splice(t--,1),e=o(o.s=a[0]))}return e}var r={},s={app:0},n=[];function o(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=r,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)o.d(a,r,function(t){return e[t]}.bind(null,r));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},2395:function(e,t,a){},5651:function(e,t,a){"use strict";var r=a("ea12"),s=a.n(r);s.a},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Progress",{staticClass:"battery",attrs:{percent:e.$store.state.battery,"stroke-color":["#108ee9","#87d068"]}}),a("router-view")],1)},n=[],o={name:"app"},i=o,l=(a("7c55"),a("2877")),c=Object(l["a"])(i,s,n,!1,null,null,null),u=c.exports,m=a("8c4f"),p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("Button",{staticClass:"home-btn",on:{click:function(t){return e.$router.push("/message")}}},[e._v("Guest")]),a("Button",{staticClass:"home-btn",on:{click:function(t){return e.$router.push("/login")}}},[e._v("Admin")])],1)},d=[],g={name:"home",components:{}},f=g,h=(a("69e6"),Object(l["a"])(f,p,d,!1,null,"6ec14c46",null)),y=h.exports,v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Form",{ref:"formInline",staticClass:"login",attrs:{model:e.formInline,rules:e.ruleInline}},[a("h1",{staticStyle:{color:"white"}},[e._v("Login")]),a("FormItem",{staticClass:"login-form-item",attrs:{prop:"username"}},[a("Input",{attrs:{type:"text",placeholder:"Username"},model:{value:e.formInline.username,callback:function(t){e.$set(e.formInline,"username",t)},expression:"formInline.username"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),a("FormItem",{staticClass:"login-form-item",attrs:{prop:"password"}},[a("Input",{attrs:{type:"password",placeholder:"Password"},model:{value:e.formInline.password,callback:function(t){e.$set(e.formInline,"password",t)},expression:"formInline.password"}},[a("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),a("FormItem",{staticClass:"login-form-item"},[a("Button",{staticClass:"login-btn",on:{click:function(t){return e.handleSubmit("formInline")}}},[e._v("Signin")])],1)],1)},b=[],w=(a("d3b7"),a("96cf"),a("bc3a")),x=a.n(w);function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"GET",r=arguments.length>3?arguments[3]:void 0;return new Promise((function(s){var n;r.$Spin.show(),n="GET"===a?x.a.get(e,{params:t}):"PUT"===a?x.a.put(e,t):"DELETE"===a?x.a.delete(e,t):x.a.post(e,t),n.then((function(e){s(e.data),r.$Spin.hide()})),n.catch((function(e){r.$Spin.hide()}))}))}var I="http://114.55.36.231:8070",k=function(e,t){return M(I+"/MessageBoard/getMessage.php",e,"GET",t)},A=function(e,t){return M(I+"/MessageBoard/message.php",e,"POST",t)},R=function(e,t){return M(I+"/MessageBoard/login.php",e,"POST",t)},S=function(e,t){return M(I+"/MessageBoard/reply.php",e,"POST",t)},C=function(e,t){return M(I+"/MessageBoard/deleteMessage.php",e,"POST",t)},N={name:"Login",data:function(){return{formInline:{username:"",password:""},ruleInline:{username:[{required:!0,message:"Please fill in the user name",trigger:"blur"}],password:[{required:!0,message:"Please fill in the password.",trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate((function(e){var a,r,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(!e){o.next=8;break}return a=t.formInline,r=a.username,s=a.password,o.next=4,regeneratorRuntime.awrap(R({username:r,password:s},t));case 4:n=o.sent,200===n.code?(t.$Message.success(n.message),t.$router.push("/messageAdmin")):t.$Message.error(n.message),o.next=8;break;case 8:case"end":return o.stop()}}))}))}}},_=N,V=(a("5651"),Object(l["a"])(_,v,b,!1,null,"1b5ecb1a",null)),E=V.exports,B=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message"},[a("List",{staticClass:"message-list"},e._l(e.messages,(function(t){return a("ListItem",[a("ListItemMeta",{attrs:{avatar:e.userImg,title:t.poster,description:t.comment}})],1)})),1),a("ButtonGroup",{staticClass:"btn-page"},[a("Button",{staticClass:"back-page",on:{click:e.backPage}},[a("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" Backward ")],1),a("InputNumber",{staticClass:"pageNum",attrs:{max:e.max,min:e.min,size:"large",readonly:""},model:{value:e.pageNum,callback:function(t){e.pageNum=t},expression:"pageNum"}}),a("Button",{staticClass:"front-page",on:{click:e.frontPage}},[e._v(" Forward "),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),a("Button",{staticClass:"btn-message",attrs:{shape:"circle",type:"info"},on:{click:e.editMessage}},[a("Icon",{attrs:{type:"md-brush"}})],1),a("Modal",{attrs:{title:"Leave your comments"},on:{"on-cancel":e.cancel},model:{value:e.modal,callback:function(t){e.modal=t},expression:"modal"}},[a("Form",{ref:"formValidate",attrs:{model:e.formValidate,rules:e.ruleValidate,"label-width":80}},[a("FormItem",{attrs:{label:"Name",prop:"poster"}},[a("Input",{attrs:{placeholder:"Enter your name"},model:{value:e.formValidate.poster,callback:function(t){e.$set(e.formValidate,"poster",t)},expression:"formValidate.poster"}})],1),a("FormItem",{attrs:{label:"E-mail",prop:"mail"}},[a("Input",{attrs:{placeholder:"Enter your e-mail"},model:{value:e.formValidate.mail,callback:function(t){e.$set(e.formValidate,"mail",t)},expression:"formValidate.mail"}})],1),a("FormItem",{attrs:{label:"Comment",prop:"comment"}},[a("Input",{attrs:{placeholder:"Enter your comment",type:"textarea",rows:4},model:{value:e.formValidate.comment,callback:function(t){e.$set(e.formValidate,"comment",t)},expression:"formValidate.comment"}})],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"info",size:"large",long:""},on:{click:function(t){return e.ok("formValidate")}}},[e._v("Send Message")])],1)],1)],1)},O=[],P=a("b17f"),$=a.n(P),j={name:"Message",data:function(){return{pageNum:1,max:10,min:1,messages:[],order:"ASC",pageSize:5,userImg:$.a,modal:!1,formValidate:{poster:"",mail:"",comment:""},ruleValidate:{poster:[{required:!0,message:"The name cannot be empty",trigger:"blur"}],mail:[{required:!0,message:"Mailbox cannot be empty",trigger:"blur"},{type:"email",message:"Incorrect email format",trigger:"blur"}],comment:[{required:!0,message:"The comment cannot be empty",trigger:"change"}]}}},mounted:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.pageNum,this.pageSize,this.order,this.getMessages();case 2:case"end":return e.stop()}}),null,this)},methods:{getMessages:function(){var e,t,a,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=this.pageNum,t=this.pageSize,a=this.order,s.next=3,regeneratorRuntime.awrap(k({pageNum:e,pageSize:t,order:a},this));case 3:r=s.sent,200===r.code&&(this.messages=r.data.messages,this.max=r.data.pageNums,console.log(this.messages));case 5:case"end":return s.stop()}}),null,this)},frontPage:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:console.log("click"),console.log(this.max),this.pageNum<this.max&&(this.pageNum++,this.getMessages());case 3:case"end":return e.stop()}}),null,this)},backPage:function(){this.pageNum>this.min&&(this.pageNum--,this.getMessages())},editMessage:function(){this.modal=!0},ok:function(e){var t=this;this.$refs[e].validate((function(e){var a,r,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(!e){o.next=14;break}return t.$Message.success("Success!"),a=t.formValidate,r=a.poster,s=a.mail,n=a.comment,o.next=5,regeneratorRuntime.awrap(A({poster:r,mail:s,comment:n},t));case 5:o.sent,t.$Message.success("Success!"),t.modal=!1,t.formValidate.poster="",t.formValidate.mail="",t.formValidate.comment="",t.getMessages(),o.next=14;break;case 14:case"end":return o.stop()}}))}))},cancel:function(){}}},T=j,F=(a("c3e0"),Object(l["a"])(T,B,O,!1,null,"aa0f7192",null)),L=F.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"message-admin"},[a("List",{staticClass:"message-list",attrs:{"item-layout":"vertical"}},e._l(e.messages,(function(t){return a("ListItem",[a("ListItemMeta",{attrs:{avatar:e.userImg,title:t.poster,description:t.comment}}),t.reply?a("p",[e._v("管理员回复："+e._s(t.reply))]):e._e(),a("template",{slot:"action"},[a("li",[a("a",{attrs:{disabled:t.reply},on:{click:function(a){return e.replyComment(t.messageId)}}},[e._v("Reply")])]),a("li",[a("a",{on:{click:function(a){return e.deleteComment(t.messageId)}}},[e._v("Delete")])])])],2)})),1),a("ButtonGroup",{staticClass:"btn-page"},[a("Button",{staticClass:"back-page",on:{click:e.backPage}},[a("Icon",{attrs:{type:"ios-arrow-back"}}),e._v(" Backward ")],1),a("InputNumber",{staticClass:"pageNum",attrs:{max:e.max,min:e.min,size:"large",readonly:""},model:{value:e.pageNum,callback:function(t){e.pageNum=t},expression:"pageNum"}}),a("Button",{staticClass:"front-page",on:{click:e.frontPage}},[e._v(" Forward "),a("Icon",{attrs:{type:"ios-arrow-forward"}})],1)],1),a("Modal",{attrs:{width:"360"},model:{value:e.replyModal,callback:function(t){e.replyModal=t},expression:"replyModal"}},[a("p",{staticStyle:{"text-align":"center"},attrs:{slot:"header"},slot:"header"},[e._v(" Reply this comment ")]),a("div",{staticStyle:{"text-align":"center"}},[a("Form",{ref:"formReply",attrs:{model:e.formReply,rules:e.ruleReply,"label-width":80}},[a("FormItem",{attrs:{label:"reply",prop:"reply"}},[a("Input",{attrs:{placeholder:"Enter your reply",type:"textarea",rows:4},model:{value:e.formReply.reply,callback:function(t){e.$set(e.formReply,"reply",t)},expression:"formReply.reply"}})],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"info",size:"large",long:""},on:{click:function(t){return e.sendReply("formReply")}}},[e._v("Reply")])],1)]),a("Modal",{attrs:{width:"360"},model:{value:e.deleteModal,callback:function(t){e.deleteModal=t},expression:"deleteModal"}},[a("p",{staticStyle:{color:"#f60","text-align":"center"},attrs:{slot:"header"},slot:"header"},[a("Icon",{attrs:{type:"ios-information-circle"}}),a("span",[e._v("Delete confirmation")])],1),a("div",{staticStyle:{"text-align":"center"}},[a("p",[e._v("Will you delete it?")])]),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"error",size:"large",long:""},on:{click:e.deleteConfirm}},[e._v("Delete")])],1)])],1)},G=[],D={name:"MessageAdmin",data:function(){return{replyModal:!1,editModal:!1,deleteModal:!1,reply:"",pageNum:1,max:10,min:1,messages:[],order:"ASC",pageSize:5,userImg:$.a,modal:!1,formReply:{messageId:0,reply:""},ruleReply:{reply:[{required:!0,message:"The comment cannot be empty",trigger:"change"}]}}},mounted:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:this.pageNum,this.pageSize,this.order,this.getMessages();case 2:case"end":return e.stop()}}),null,this)},methods:{getMessages:function(){var e,t,a,r;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:return e=this.pageNum,t=this.pageSize,a=this.order,s.next=3,regeneratorRuntime.awrap(k({pageNum:e,pageSize:t,order:a},this));case 3:r=s.sent,200===r.code&&(this.messages=r.data.messages,this.max=r.data.pageNums,console.log(this.messages));case 5:case"end":return s.stop()}}),null,this)},frontPage:function(){return regeneratorRuntime.async((function(e){while(1)switch(e.prev=e.next){case 0:console.log("click"),console.log(this.max),this.pageNum<this.max&&(this.pageNum++,this.getMessages());case 3:case"end":return e.stop()}}),null,this)},backPage:function(){this.pageNum>this.min&&(this.pageNum--,this.getMessages())},replyComment:function(e){this.replyModal=!0,this.formReply.messageId=e},sendReply:function(e){var t=this;this.$refs[e].validate((function(e){var a,r,s,n;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(!e){o.next=8;break}return a=t.formReply,r=a.messageId,s=a.reply,o.next=4,regeneratorRuntime.awrap(S({messageId:r,reply:s},t));case 4:n=o.sent,200===n.code?(t.replyModal=!1,t.formReply.messageId=0,t.formReply.reply="",t.getMessages(),t.$Message.success("Success!")):t.$Message.error("failed!"),o.next=8;break;case 8:case"end":return o.stop()}}))}))},deleteComment:function(e){this.deleteModal=!0,this.formReply.messageId=e},deleteConfirm:function(){var e,t;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return e=this.formReply.messageId,a.next=3,regeneratorRuntime.awrap(C({messageId:e},this));case 3:t=a.sent,200===t.code?(this.deleteModal=!1,this.formReply.messageId=0,this.formReply.reply="",this.getMessages(),this.$Message.success("Success!")):this.$Message.error("failed!");case 5:case"end":return a.stop()}}),null,this)}}},q=D,U=(a("dc39"),Object(l["a"])(q,z,G,!1,null,"24a9a611",null)),Q=U.exports;r["default"].use(m["a"]);var Y=[{path:"/",name:"home",component:y},{path:"/login",name:"login",component:E},{path:"/message",name:"message",component:L},{path:"/messageAdmin",name:"messageAdmin",component:Q}],Z=new m["a"]({mode:"hash",base:"",routes:Y}),W=Z,K=a("2f62");r["default"].use(K["a"]);var X=new K["a"].Store({state:{battery:99},mutations:{},actions:{},modules:{}}),H=a("f825"),J=a.n(H),ee=(a("f8ce"),a("41c6")),te=a.n(ee);if(r["default"].use(J.a),r["default"].use(te.a),r["default"].config.productionTip=!1,"file:"===window.location.protocol||"3000"===window.location.port){var ae=document.createElement("script");ae.setAttribute("type","text/javascript"),ae.setAttribute("src","cordova.js"),document.body.appendChild(ae)}r["default"].cordova.on("deviceready",(function(){function e(e){X.state.battery=e.level}console.log("Cordova : device is ready !"),console.log("Vue.cordova :",r["default"].cordova),window.addEventListener("batterystatus",e)})),new r["default"]({router:W,store:X,render:function(e){return e(u)}}).$mount("#app")},"69e6":function(e,t,a){"use strict";var r=a("7dfc"),s=a.n(r);s.a},"7c55":function(e,t,a){"use strict";var r=a("2395"),s=a.n(r);s.a},"7dfc":function(e,t,a){},9968:function(e,t,a){},b17f:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB30lEQVRYCe2Yu0rEQBiFZ6NuYam9haU3EHwR8QVWC59AVMRnUBARbLTUStbKy2t4KSzt1EbcQgV1/c5emmGXZGcSk8iEczKZy5n/zJ8lmawx4QgZCBkIGfhvGZhhQbvwFr50eEO5A6dhYVHF2T78gs0+VN8efSOwUJD5axz1M263XzFWGopi4BAbtsm4+gGaQmAWF98wzrDdr5/TFDovRF7qtniVwmWeIXTSUuSLe8Lb2U1a19MJeb5oED6pYXvcG1ovuNx6O2DFbvjLehoLePQw7KNthY1aZ7/TpYf8wkObmjTXx2haqyj1i0xJqHIq9VYC/0aLKO1mTgvosrudvqPhvUNdF347jdeAkIGQgZCBHDKgD5MJh7jSSOsg9ZeMM8UyrMNXqM/DRcqkWGKgNNLWua4ZY8Zg5pgjwjH8gE2Ln9S34DDsB/Vt06mxtl5zHtGnFyFFuphkulP4A+3Adv2BMRtQu9RRSlEL3+RaffZ4u64/CE4Yq5gU/lhhiga0A2VdV8ya8TzW0WdtNG7+NTw4YQGVbmdcgKz75WEeLwPjHEXW5pLOf4aXgfGMImmArMc94aUnKj1b240y1b4qxrmn16gY3txdhAW45y4dZenvQDppCLOEDIQMhAy4ZuAXxH1jGca6XgoAAAAASUVORK5CYII="},b392:function(e,t,a){},c3e0:function(e,t,a){"use strict";var r=a("9968"),s=a.n(r);s.a},dc39:function(e,t,a){"use strict";var r=a("b392"),s=a.n(r);s.a},ea12:function(e,t,a){}});
//# sourceMappingURL=app.d2018901.js.map